"use strict";!function(){var t=angular.module("app",["ngRoute","firebase"]);t.constant("FIREBASE_URL","https://psi-api.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/core/templates/home.html"}),t.when("/about",{templateUrl:"app/core/templates/about.html"}),t.when("/account",{templateUrl:"app/core/templates/account.html"}),t.when("/dashboard",{templateUrl:"app/dashboard/dashboard.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,e,n){t.$on("$routeChangeStart",function(t,o,r){console.log(r),n.isLoggedIn()?console.log("Route Authenticated"):(e.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,e){function n(t){return u.$authWithOAuthPopup(t).then(function(t){var e=a.child("/users/"+t.uid);return e.child("authData").set(t),t})["catch"](function(t){return console.log("Authentication failed:",t)})}function o(){a.unauth()}function r(){return!!a.getAuth()}var a=new Firebase(e),u=t(a),i={login:n,logout:o,isLoggedIn:r};return i}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){function t(t,e,n,o){function r(e){o.login(e).then(function(e){u(e),t.path("/")})["catch"](function(t){return console.log("Authentication failed:",t)})}function a(){t.path("/"),o.logout(),c.provider="Not logged in",c.isAuthenticated=!1}function u(t){null!==t&&null!==t.uid&&(c.provider="Logged in with "+t.provider,c.isAuthenticated=!0)}function i(){c.showNav=!c.showNav}var c=this,l=new Firebase(n),s=l.getAuth();c.isAuthenticated=!1,c.provider="Not logged in",c.login=r,c.logout=a,c.toggleNav=i,u(s),e.$on("$locationChangeStart",function(){return c.showNav=!1})}angular.module("app").controller("BaseController",t),t.$inject=["$location","$rootScope","FIREBASE_URL","authService"]}(),angular.module("app").filter("unique",function(){return function(t,e){if(e===!1)return t;if((e||angular.isUndefined(e))&&angular.isArray(t)){var n=[],o=function(t){return angular.isObject(t)&&angular.isString(e)?t[e]:t};angular.forEach(t,function(t){for(var e=!1,r=0;r<n.length;r++)if(angular.equals(o(n[r]),o(t))){e=!0;break}e||n.push(t)}),t=n}return t}}),function(){function t(t,e,n){function o(e){var n="mobile",o=""+a+"?url="+e+"&strategy="+n;return window.location.href.indexOf("localhost")>-1||(o+="&key="+u),t.get(o).success(function(t){return t.data}).error(function(t){console.log(t)})}function r(){return e(l)}var a="https://www.googleapis.com/pagespeedonline/v2/runPagespeed",u="AIzaSyCEuHSeoUR2wQ86Qr8lSEAs6ykitWIts3s",i=new Firebase(n),c=i.getAuth(),l=new Firebase(n+"/users/"+c.uid+"/tests"),s={get:o,getTestsRef:r};return s}angular.module("app").factory("psiService",t),t.$inject=["$http","$firebaseArray","FIREBASE_URL"]}(),function(){function t(t){function e(e){e&&t.get(n.urlInput).then(function(t){n.tests.$add({url:n.urlInput,timestamp:Firebase.ServerValue.TIMESTAMP,test:t.data})})}var n=this;n.urlInput="http://corycode.me",n.addUrl=e,n.tests=t.getTestsRef(),n.data=""}angular.module("app").controller("DashboardController",t),t.$inject=["psiService"]}();