"use strict";!function(){var t=angular.module("app",["ngRoute","firebase","app.controllers"]);t.constant("FIREBASE_URL","https://todo-app-core.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/core/templates/home.html"}),t.when("/about",{templateUrl:"app/core/templates/about.html"}),t.when("/account",{templateUrl:"app/core/templates/account.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,e,o){t.$on("$routeChangeStart",function(t,n,i){console.log(i),o.isLoggedIn()?console.log("Route Authenticated"):(e.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,e){function o(t){return a.$authWithOAuthPopup(t).then(function(t){var e=u.child("/users/"+t.uid);return e.child("authData").set(t),t})["catch"](function(t){return console.log("Authentication failed:",t)})}function n(){u.unauth()}function i(){return!!u.getAuth()}var u=new Firebase(e),a=t(u),r={login:o,logout:n,isLoggedIn:i};return r}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){var t=angular.module("app.controllers",[]);t.controller("BaseController",["$location","$firebaseAuth","authService",function(t,e,o){function n(e){o.login(e).then(function(e){u(e),t.path("/account")})["catch"](function(t){console.log("Authentication failed:",t)})}function i(){o.logout(),c.provider="Not logged in.",c.isAuthenticated=!1,t.path("/")}function u(t){null!==t&&null!==t.uid&&(c.provider="Logged in with "+t.provider,c.isAuthenticated=!0,console.log("Authenticated successfully with payload:",t),console.log("User "+t.uid+" is logged in with "+t.provider))}var a=new Firebase("https://psi-api.firebaseio.com"),r=(e(a),a.getAuth()),c=this;c.isAuthenticated=!1,c.provider="Not logged in.",c.login=n,c.logout=i,u(r)}])}(),function(){function t(t,e,o){{var n=new Firebase(o);e(n)}return authService}angular.module("app").factory("psiService",t),t.$inject=["$http","$firebaseAuth","FIREBASE_URL"]}();