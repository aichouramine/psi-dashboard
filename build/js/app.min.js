"use strict";!function(){var t=angular.module("app",["ngRoute","firebase"]);t.constant("FIREBASE_URL","https://psi-api.firebaseio.com"),t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"app/core/templates/home.html"}),t.when("/about",{templateUrl:"app/core/templates/about.html"}),t.when("/account",{templateUrl:"app/core/templates/account.html"}),t.when("/dashboard",{templateUrl:"app/dashboard/dashboard.html"}),t.when("/details",{templateUrl:"app/details/details.html"}),t.otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$location","authService",function(t,e,n){t.$on("$routeChangeStart",function(t,o,a){n.isLoggedIn()?console.log("Route Authenticated"):(e.path("/"),console.log("Route Unauthenticated"))})}])}(),function(){function t(t,e){function n(t){return u.$authWithOAuthPopup(t).then(function(t){var e=r.child("/users/"+t.uid);return e.child("authData").set(t),t})["catch"](function(t){return console.log("Authentication failed:",t)})}function o(){r.unauth()}function a(){return!!r.getAuth()}var r=new Firebase(e),u=t(r),i={login:n,logout:o,isLoggedIn:a};return i}angular.module("app").factory("authService",t),t.$inject=["$firebaseAuth","FIREBASE_URL"]}(),function(){function t(t,e,n,o){function a(e){o.login(e).then(function(e){u(e),t.path("/dashboard")})["catch"](function(t){return console.log("Authentication failed:",t)})}function r(){t.path("/"),o.logout(),l.provider="Not logged in",l.isAuthenticated=!1}function u(t){null!==t&&null!==t.uid&&(l.provider="Logged in with "+t.provider,l.isAuthenticated=!0)}function i(){l.showNav=!l.showNav}var l=this,c=new Firebase(n),s=c.getAuth();l.isAuthenticated=!1,l.provider="Not logged in",l.login=a,l.logout=r,l.toggleNav=i,u(s),e.$on("$locationChangeStart",function(){return l.showNav=!1})}angular.module("app").controller("BaseController",t),t.$inject=["$location","$rootScope","FIREBASE_URL","authService"]}(),angular.module("app").filter("unique",function(){return function(t,e){if(e===!1)return t;if((e||angular.isUndefined(e))&&angular.isArray(t)){var n=[],o=function(t){return angular.isObject(t)&&angular.isString(e)?t[e]:t};angular.forEach(t,function(t){for(var e=!1,a=0;a<n.length;a++)if(angular.equals(o(n[a]),o(t))){e=!0;break}e||n.push(t)}),t=n}return t}}),function(){function t(t,e,n){function o(e){var n="mobile",o=""+r+"?url="+e+"&strategy="+n;return window.location.href.indexOf("localhost")>-1||(o+="&key="+u),t.get(o).success(function(t){return t.data}).error(function(t){console.log(t)})}function a(){return e(c)}var r="https://www.googleapis.com/pagespeedonline/v2/runPagespeed",u="AIzaSyCEuHSeoUR2wQ86Qr8lSEAs6ykitWIts3s",i=new Firebase(n),l=i.getAuth(),c=new Firebase(n+"/users/"+l.uid+"/tests"),s={get:o,getTestsRef:a};return s}angular.module("app").factory("psiService",t),t.$inject=["$http","$firebaseArray","FIREBASE_URL"]}(),function(){function t(t){function e(e){e&&t.get(n.urlInput).then(function(t){n.tests.$add({url:n.urlInput,timestamp:Firebase.ServerValue.TIMESTAMP,test:t.data})})}var n=this;n.urlInput="http://corycode.me",n.addUrl=e,n.tests=t.getTestsRef(),n.data=""}angular.module("app").controller("DashboardController",t),t.$inject=["psiService"]}(),function(){function t(t){var e=this;e.urlInput=t.search().url}angular.module("app").controller("DetailsController",t),t.$inject=["$location"]}();